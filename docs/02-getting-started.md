# Overview

`clogs` is a command-line tool for parsing, reading, and querying the JSONL transcripts generated by Claude AI sessions. It's a simple, local-first utility for inspecting an agent's work, providing a ground-truth record of its actions without relying on external services. This tool is a fundamental part of a development workflow that treats agent interactions as inspectable, text-based artifacts.

---

This guide provides a short tutorial for the `clogs` CLI, walking through a common workflow to inspect Claude AI session transcripts.

### 1. List All Sessions

The first step is to see what session transcripts are available. The `clogs list` command scans the default Claude log directory (`~/.claude/projects`) and displays a summary of each session it finds.

```bash
clogs list
```

The output is a table showing the session ID, the associated project and worktree, any detected plan/job executions, and when the session started.

**Example Output:**

```
SESSION ID                                PROJECT          WORKTREE   JOBS                               STARTED
session-2c7a7e8e-c9b1-4f8a-9d3c-6b1a...   grove-core                  setup-repo/01-initialization.md    2025-09-17 10:30
session-f4b2e1a0-8d5c-4a3b-8e1f-7c2d...   grove-claude-logs           refactor-cli/02-add-flags.md       2025-09-17 09:15
session-a9d3c6b1-4f8a-9d3c-6b1a...       my-app           feature-x                                    2025-09-16 14:00
```

### 2. Filter by Project

If you have many transcripts, you can filter the list to find sessions related to a specific project, worktree, or plan. Use the `--project` (or `-p`) flag with a search term. This performs a case-insensitive substring match.

```bash
clogs list --project grove-claude-logs
```

This will show only the sessions where the project, worktree, plan, or job name contains "grove-claude-logs".

**Example Output:**

```
SESSION ID                                PROJECT            WORKTREE   JOBS                               STARTED
session-f4b2e1a0-8d5c-4a3b-8e1f-7c2d...   grove-claude-logs             refactor-cli/02-add-flags.md       2025-09-17 09:15
```

### 3. Read a Specific Plan/Job Execution

To see the conversation related to a specific task, use the `clogs read` command. This command is designed to work with projects that use the Grove `plan` and `job` structure.

A "plan/job" is a reference to a specific task file within a project's `plans` directory. The `clogs` tool identifies these tasks by looking for user messages in the transcript that instruct the agent to execute a job, such as "Read the file `/path/to/plans/my-plan/01-job.md` and execute the agent job". The `parsePlanInfo` function in `clogs` extracts `my-plan` as the plan and `01-job.md` as the job from this message.

To read the logs for the `refactor-cli/02-add-flags.md` job, you would run:

```bash
clogs read refactor-cli/02-add-flags.md
```

This command finds the relevant session and displays the conversation transcript starting from the point where that job was initiated until the next job began or the session ended.

### 4. Query Raw Messages

If you need to inspect the raw messages from a transcript, `clogs query` allows you to retrieve and filter them. For example, to see all messages from the assistant in a specific session, you can use the `--role` flag.

```bash
clogs query session-f4b2e1a0-8d5c-4a3b-8e1f-7c2d... --role assistant
```

**Example Output:**

```
Found 28 messages with role 'assistant' in session session-f4b2e1a0...:

[09:16:01] assistant: Okay, I will add the `--json` and `--project` flags to the `list` command. First, I'll modify the `newListCmd` function in `main.go`.

[09:17:23] assistant: [Using write_file on main.go]
Okay, I have added the flags to the cobra command definition. Next, I will implement the filtering logic.
```

You can also add the `--json` flag to get structured output, which is useful for scripting.

### 5. Follow a Live Session

To monitor a session that is currently active, use the `clogs tail` command. It parses the entire transcript and displays the most recent messages, giving you a view of the latest activity.

```bash
clogs tail <session_id>
```

Replace `<session_id>` with the ID of an active session.

**Example Output:**
```
Showing last 10 messages from session session-f4b2e1a0...:

[10:05:12] user: Now run the tests to confirm the changes.

[10:05:45] assistant: [Using run_command: make test-e2e]
The tests are passing. The new flags are working as expected.
```